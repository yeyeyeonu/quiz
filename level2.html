<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë‚¨ë¶ ë‹¨ì–´ í€´ì¦ˆ</title>
  <link rel="stylesheet" href="question.css" />
</head>
<body>

<div id="app"></div>

<script>
  const quizData = [
    { word: "ë‹¨ë¬µ", options: ["ì¼", "ì ¤ë¦¬"], answer: "ì¼" },
    { word: "ê°€ë½ì§€ë¹µ", options: ["ë°”ê²ŒíŠ¸ë¹µ", "ë„ë„›"], answer: "ë„ë„›" },
    { word: "ê°€ë‘ì¶”", options: ["ì–‘ë°°ì¶”", "ìƒì¶”"], answer: "ì–‘ë°°ì¶”" },
    { word: "ëšœê»‘ëª¨ì", options: ["ë¹„ë‹ˆ", "ë¹µëª¨ì"], answer: "ë¹µëª¨ì" },
    { word: "ì§ìŠ¹ê¸°", options: ["ë¹„í–‰ê¸°", "í—¬ë¦¬ì½¥í„°"], answer: "í—¬ë¦¬ì½¥í„°" }
  ];

  let current = 0;
  let score = 0;

  const app = document.getElementById("app");

  function renderQuiz() {
    if (current >= quizData.length) {
      return renderResult();
    }

    const q = quizData[current];

    app.innerHTML = `
      <div class="quiz-page">
        <div class="progress">
          ${quizData.map((_, i) => `<div class="dot ${i <= current ? "activeDot" : ""}"></div>`).join("")}
        </div>

        <div class="title">ë¶í•œë§, ë‚¨í•œë§ë¡œ ë§í˜€ë³¼ê¹Œìš”? ğŸ¤”</div>

        <div class="questionBox">
          <div class="qLabel">Q${current + 1}.</div>
          <div class="word">${q.word}</div>
          <div class="desc">ì´ ë‹¨ì–´â€¦ ë¬´ìŠ¨ ëœ»ì¼ê¹Œìš”?</div>

          ${q.options.map(opt => `
            <button class="btn" onclick="checkAnswer(this, '${opt}')">${opt}</button>
          `).join("")}
        </div>
      </div>
    `;
  }

  function checkAnswer(selectedBtn, selected) {
    const buttons = document.querySelectorAll(".btn");

    if (selected === quizData[current].answer) {
      selectedBtn.classList.add("correct");
      score += 20;
    } else {
      selectedBtn.classList.add("wrong");

      // ì •ë‹µ ë²„íŠ¼ í‘œì‹œ
      buttons.forEach(btn => {
        if (btn.innerText === quizData[current].answer) {
          btn.classList.add("correct");
        }
      });
    }

    // ì ì‹œ ë™ì•ˆ ë²„íŠ¼ ë¹„í™œì„±í™”
    buttons.forEach(btn => btn.disabled = true);

    setTimeout(() => {
      current++;
      renderQuiz();
    }, 1000);
  }

  function renderResult() {
    app.innerHTML = `
      <div class="quiz-page result">
        <div class="result-title">ë‚˜ì˜ ì ìˆ˜ëŠ”</div>
        <div class="score-box">${score}ì </div>
        <div class="comment">ğŸ‘€ ì–¸ì–´ì˜ ì°¨ì´ë¥¼ ì´í•´í•œ ë§Œí¼,<br> ë§ˆìŒì˜ ê±°ë¦¬ë„ ê°€ê¹Œì›Œì§‘ë‹ˆë‹¤</div>
        <button class="restart" onclick="restart()">ì²˜ìŒìœ¼ë¡œ</button>
      </div>
    `;
  }

  function restart() {
    current = 0;
    score = 0;
    renderQuiz();
  }

  renderQuiz();
</script>

</body>
</html>